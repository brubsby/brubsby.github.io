<html>
  <head>
  <link href="assets/favicon.png" rel="icon" data-n-head="true" type="image/png">
  <meta name="title" content="brubsby - animations">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
  <title>brubsby - animations</title>

  <style>

  @font-face {
    font-family: 'DF';
    src: url('assets/LessPerfectDOSVGA.woff') format('woff'),
     url('assets/LessPerfectDOSVGA.ttf') format('truetype');
  }

  @media (prefers-color-scheme: dark) {
    body {
      background: black;
      color: white;
    }
  }
  @media (prefers-color-scheme: no-preference), (prefers-color-scheme: light) {
    body {
      background: white;
      color: black;
    }
  }

  html {
    overflow-y: scroll;
  }

  body {
    font-size: 20px;
    font-family: Courier, monospace;
    padding: 2em 3em 2em 3em;
  }

  div.container {
  }

  div.menu {
    margin: 0;
  }

  h1 {
    margin: 0;
    font-weight: normal;
    style: none;
    font-size: 3em;
  }

  ol {
    list-style-type: none;
    padding-left: 8px;
    padding-bottom: 8em;
  }

  li {
    white-space: nowrap;
    display: grid;
    /* Fixed width for the first column to align descriptions, adjusting for longest filename */
    grid-template-columns: 22ch 1fr; 
    gap: 1em;
    margin-bottom: 2px;
    align-items: baseline;
  }

  a {
    text-decoration: none;
    color: inherit;
    display: block;
  }

  li:hover a {
    text-decoration: underline;
  }

  .anim-desc {
    font-family: "DF", monospace;
    font-size: 20px;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="module">
    import { animations_data } from './js/animations_list.js';

    $(document).ready(function() {
        const list = document.getElementById('anim-list');
        
        animations_data.forEach((anim, index) => {
            const li = document.createElement('li');
            const href = `./?a=${index}`;

            // Left: Filename Link
            const nameLink = document.createElement('a');
            nameLink.href = href;
            nameLink.textContent = anim.file; 
            li.appendChild(nameLink);

            // Right: Description Link
            const descLink = document.createElement('a');
            descLink.href = href;
            descLink.className = 'anim-desc';
            descLink.textContent = anim.description;
            li.appendChild(descLink);

            list.appendChild(li);
        });

        // Dark Mode Application (Read-only)
        var theme_switch = (should_dark_mode_func) => {
          if (should_dark_mode_func()) {
            document.body.style.background = "black";
            document.body.style.color = "white";
          } else {
            document.body.style.background = "white";
            document.body.style.color = "black";
          }
        }
        theme_switch(() => !document.cookie.split(';').filter(
            (item) => item.includes('theme=light')).length);
    });
  </script>
  </head>
  <body>
    <div class="container">
      <div class="menu">
        <h1><a href="./">ANIMATIONS</a></h1>
        <ol id="anim-list"></ol>
      </div>
    </div>
  </body>
</html>
